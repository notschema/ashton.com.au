---
/**
 * Header - Site navigation component
 */
import { NAV_LINKS, SITE, SOCIAL_LINKS } from "../consts";
import ThemeToggle from "./ui/ThemeToggle.tsx";

const currentPath = Astro.url.pathname;
---

<header
  class="sticky top-0 z-50 w-full border-b border-border/50 bg-background/80 backdrop-blur-xl"
>
  <div class="mx-auto flex h-14 sm:h-16 max-w-7xl items-center justify-between px-4">
    <!-- Logo -->
    <a
      href="/"
      class="flex items-center text-xl font-bold text-foreground transition-colors hover:text-primary"
    >
      <svg class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M18 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3H6a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3V6a3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3h12a3 3 0 0 0 3-3 3 3 0 0 0-3-3z"></path>
      </svg>
    </a>

    <!-- Navigation -->
    <nav class="flex items-center gap-1">
      {
        NAV_LINKS.map(({ href, label }) => {
          const isActive =
            currentPath === href ||
            (href !== "/" && currentPath.startsWith(href));

          return (
            <a
              href={href}
              class:list={[
                "px-3 py-2 text-sm font-medium transition-colors",
                isActive
                  ? "bg-muted text-foreground"
                  : "text-muted-foreground hover:bg-muted/50 hover:text-foreground",
              ]}
            >
              {label}
            </a>
          );
        })
      }

      <!-- Contact CTA -->
      <a
        href={`mailto:${SOCIAL_LINKS.email}`}
        class="ml-2 px-4 py-2 border border-border text-foreground hover:border-foreground/50 hover:bg-muted/30 transition-colors text-sm font-medium"
      >
        Contact
      </a>

      <ThemeToggle client:load />
    </nav>
  </div>
</header>
